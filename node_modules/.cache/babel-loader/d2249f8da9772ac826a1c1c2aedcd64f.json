{"ast":null,"code":"import _toConsumableArray from\"/Users/elamanzanibekov/Documents/GitHub/webapp-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React from'react';import Tabs from'@mui/material/Tabs';import Tab from'@mui/material/Tab';import Grid from'@mui/material/Grid';import{Post}from'../components/Post';import{TagsBlock}from'../components/TagsBlock';import{CommentsBlock}from'../components/CommentsBlock';import{useDispatch,useSelector}from'react-redux';import{fetchPosts}from'../redux/slices/Posts';import{fetchTags}from'../redux/slices/Posts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Home=function Home(){var dispatch=useDispatch();var userData=useSelector(function(state){return state.auth.data;});var _useSelector=useSelector(function(state){return state.posts;}),posts=_useSelector.posts,tags=_useSelector.tags;var isPostsLoading=posts.status==='loading';var isTagsLoading=tags.status==='loading';React.useEffect(function(){///Запрос и ответ на сервер////\ndispatch(fetchPosts(fetchPosts()));dispatch(fetchTags());},[dispatch]);console.log(posts);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Tabs,{style:{marginBottom:15},value:0,\"aria-label\":\"basic tabs example\",children:[/*#__PURE__*/_jsx(Tab,{label:\"\\u041D\\u043E\\u0432\\u044B\\u0435\"}),/*#__PURE__*/_jsx(Tab,{label:\"\\u041F\\u043E\\u043F\\u0443\\u043B\\u044F\\u0440\\u043D\\u044B\\u0435\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:4,children:[/*#__PURE__*/_jsx(Grid,{xs:8,item:true,children:(isPostsLoading?_toConsumableArray(Array(5)):posts.items).map(function(obj,index){return isPostsLoading?/*#__PURE__*/_jsx(Post,{isLoading:true},index):/*#__PURE__*/_jsx(Post,{id:obj._id,title:obj.title,imageUrl:obj.imageUrl?\"\".concat(process.env.REACT_APP_API_URL).concat(obj.imageUrl):'',user:obj.user,createdAt:obj.createdAt,viewsCount:obj.viewsCount,commentsCount:obj.commentsCount,tags:obj.tags,isEditable:(userData===null||userData===void 0?void 0:userData._id)===obj.user._id});})}),/*#__PURE__*/_jsxs(Grid,{xs:4,item:true,children:[/*#__PURE__*/_jsx(TagsBlock,{items:tags.items,isLoading:isTagsLoading}),/*#__PURE__*/_jsx(CommentsBlock,{items:[{user:{fullName:'Еламан Жанибеков',avatarUrl:'https://mui.com/static/images/avatar/1.jpg'},text:'Это тестовый комментарий'},{user:{fullName:'Баукен Оспан',avatarUrl:'https://mui.com/static/images/avatar/2.jpg'},text:'When displaying three lines or more, the avatar is not aligned at the top. You should set the prop to align the avatar at the top'}],isLoading:false})]})]})]});};","map":{"version":3,"names":["React","Tabs","Tab","Grid","Post","TagsBlock","CommentsBlock","useDispatch","useSelector","fetchPosts","fetchTags","Home","dispatch","userData","state","auth","data","posts","tags","isPostsLoading","status","isTagsLoading","useEffect","console","log","marginBottom","Array","items","map","obj","index","_id","title","imageUrl","process","env","REACT_APP_API_URL","user","createdAt","viewsCount","commentsCount","fullName","avatarUrl","text"],"sources":["/Users/elamanzanibekov/Documents/GitHub/webapp-frontend/src/pages/Home.jsx"],"sourcesContent":["import React from 'react';\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Grid from '@mui/material/Grid';\nimport { Post } from '../components/Post';\nimport { TagsBlock } from '../components/TagsBlock';\nimport { CommentsBlock } from '../components/CommentsBlock';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchPosts } from '../redux/slices/Posts';\nimport { fetchTags } from '../redux/slices/Posts';\nexport const Home = () => {\n  const dispatch = useDispatch();\n  const userData = useSelector((state) => state.auth.data);\n  const {posts, tags} = useSelector((state) => state.posts);\n  \n  const isPostsLoading = posts.status === 'loading';\n  const isTagsLoading = tags.status === 'loading';\n\n\n  React.useEffect(() => {       ///Запрос и ответ на сервер////\n      dispatch(fetchPosts(fetchPosts()));\n      dispatch(fetchTags());\n  }, [dispatch]);\n  console.log(posts);\n  return (\n    <>\n      <Tabs style={{ marginBottom: 15 }} value={0} aria-label=\"basic tabs example\">\n        <Tab label=\"Новые\" />\n        <Tab label=\"Популярные\" />\n      </Tabs>\n      <Grid container spacing={4}>\n        <Grid xs={8} item>\n          {( isPostsLoading ? [...Array(5)] : posts.items).map((obj, index) => isPostsLoading ? (\n          <Post key={index} isLoading={true} />\n          ):(\n            <Post\n              id={obj._id}\n              title={obj.title}\n              imageUrl={obj.imageUrl ? `${process.env.REACT_APP_API_URL}${obj.imageUrl}` : ''}\n              user={obj.user}\n              createdAt={obj.createdAt}\n              viewsCount={obj.viewsCount}\n              commentsCount={obj.commentsCount}\n              tags={obj.tags}\n              isEditable={userData?._id === obj.user._id}\n            />\n          ))}\n        </Grid>\n        <Grid xs={4} item>\n          <TagsBlock items={tags.items} isLoading={isTagsLoading} />\n          <CommentsBlock\n            items={[\n              {\n                user: {\n                  fullName: 'Еламан Жанибеков',\n                  avatarUrl: 'https://mui.com/static/images/avatar/1.jpg',\n                },\n                text: 'Это тестовый комментарий',\n              },\n              {\n                user: {\n                  fullName: 'Баукен Оспан',\n                  avatarUrl: 'https://mui.com/static/images/avatar/2.jpg',\n                },\n                text: 'When displaying three lines or more, the avatar is not aligned at the top. You should set the prop to align the avatar at the top',\n              },\n            ]}\n            isLoading={false}\n          />\n        </Grid>\n      </Grid>\n    </>\n  );\n \n};\n\n"],"mappings":"qJAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,KAAP,KAAiB,oBAAjB,CACA,MAAOC,IAAP,KAAgB,mBAAhB,CACA,MAAOC,KAAP,KAAiB,oBAAjB,CACA,OAASC,IAAT,KAAqB,oBAArB,CACA,OAASC,SAAT,KAA0B,yBAA1B,CACA,OAASC,aAAT,KAA8B,6BAA9B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,uBAA3B,CACA,OAASC,SAAT,KAA0B,uBAA1B,C,6IACA,MAAO,IAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACxB,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,GAAMM,SAAQ,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAWA,MAAK,CAACC,IAAN,CAAWC,IAAtB,EAAD,CAA5B,CACA,iBAAsBR,WAAW,CAAC,SAACM,KAAD,QAAWA,MAAK,CAACG,KAAjB,EAAD,CAAjC,CAAOA,KAAP,cAAOA,KAAP,CAAcC,IAAd,cAAcA,IAAd,CAEA,GAAMC,eAAc,CAAGF,KAAK,CAACG,MAAN,GAAiB,SAAxC,CACA,GAAMC,cAAa,CAAGH,IAAI,CAACE,MAAL,GAAgB,SAAtC,CAGApB,KAAK,CAACsB,SAAN,CAAgB,UAAM,CAAQ;AAC1BV,QAAQ,CAACH,UAAU,CAACA,UAAU,EAAX,CAAX,CAAR,CACAG,QAAQ,CAACF,SAAS,EAAV,CAAR,CACH,CAHD,CAGG,CAACE,QAAD,CAHH,EAIAW,OAAO,CAACC,GAAR,CAAYP,KAAZ,EACA,mBACE,wCACE,MAAC,IAAD,EAAM,KAAK,CAAE,CAAEQ,YAAY,CAAE,EAAhB,CAAb,CAAmC,KAAK,CAAE,CAA1C,CAA6C,aAAW,oBAAxD,wBACE,KAAC,GAAD,EAAK,KAAK,CAAC,gCAAX,EADF,cAEE,KAAC,GAAD,EAAK,KAAK,CAAC,8DAAX,EAFF,GADF,cAKE,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,wBACE,KAAC,IAAD,EAAM,EAAE,CAAE,CAAV,CAAa,IAAI,KAAjB,UACG,CAAEN,cAAc,oBAAOO,KAAK,CAAC,CAAD,CAAZ,EAAmBT,KAAK,CAACU,KAAzC,EAAgDC,GAAhD,CAAoD,SAACC,GAAD,CAAMC,KAAN,QAAgBX,eAAc,cACnF,KAAC,IAAD,EAAkB,SAAS,CAAE,IAA7B,EAAWW,KAAX,CADmF,cAGjF,KAAC,IAAD,EACE,EAAE,CAAED,GAAG,CAACE,GADV,CAEE,KAAK,CAAEF,GAAG,CAACG,KAFb,CAGE,QAAQ,CAAEH,GAAG,CAACI,QAAJ,WAAkBC,OAAO,CAACC,GAAR,CAAYC,iBAA9B,SAAkDP,GAAG,CAACI,QAAtD,EAAmE,EAH/E,CAIE,IAAI,CAAEJ,GAAG,CAACQ,IAJZ,CAKE,SAAS,CAAER,GAAG,CAACS,SALjB,CAME,UAAU,CAAET,GAAG,CAACU,UANlB,CAOE,aAAa,CAAEV,GAAG,CAACW,aAPrB,CAQE,IAAI,CAAEX,GAAG,CAACX,IARZ,CASE,UAAU,CAAE,CAAAL,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEkB,GAAV,IAAkBF,GAAG,CAACQ,IAAJ,CAASN,GATzC,EAHmD,EAApD,CADH,EADF,cAkBE,MAAC,IAAD,EAAM,EAAE,CAAE,CAAV,CAAa,IAAI,KAAjB,wBACE,KAAC,SAAD,EAAW,KAAK,CAAEb,IAAI,CAACS,KAAvB,CAA8B,SAAS,CAAEN,aAAzC,EADF,cAEE,KAAC,aAAD,EACE,KAAK,CAAE,CACL,CACEgB,IAAI,CAAE,CACJI,QAAQ,CAAE,kBADN,CAEJC,SAAS,CAAE,4CAFP,CADR,CAKEC,IAAI,CAAE,0BALR,CADK,CAQL,CACEN,IAAI,CAAE,CACJI,QAAQ,CAAE,cADN,CAEJC,SAAS,CAAE,4CAFP,CADR,CAKEC,IAAI,CAAE,mIALR,CARK,CADT,CAiBE,SAAS,CAAE,KAjBb,EAFF,GAlBF,GALF,GADF,CAkDD,CAhEM"},"metadata":{},"sourceType":"module"}