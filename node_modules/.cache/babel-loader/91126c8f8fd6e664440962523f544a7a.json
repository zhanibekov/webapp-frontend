{"ast":null,"code":"import _slicedToArray from\"/Users/elamanzanibekov/Documents/GitHub/webapp-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useParams}from'react-router-dom';import{Post}from\"../components/Post\";import{Index}from\"../components/AddComment\";import{CommentsBlock}from\"../components/CommentsBlock\";import axios from\"../axios\";import{ReactMarkdown}from\"react-markdown/lib/react-markdown\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FullPost=function FullPost(){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),isLoading=_React$useState4[0],setLoading=_React$useState4[1];var _useParams=useParams(),id=_useParams.id;React.useEffect(function(){/////Когда запрос выполнился сохраняем его в state//////\naxios.get(\"/posts/\".concat(id)).then(function(res){setData(res.data);setLoading(false);}).catch(function(err){console.warn(err);alert('Ошибка при получении статьи');});},[id]);if(isLoading){return/*#__PURE__*/_jsx(Post,{isLoading:isLoading});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Post,{id:data._id,title:data.title,imageUrl:data.imageUrl?\"\".concat(process.env.REACT_APP_API_URL).concat(data.imageUrl):''// imageUrl=\"https://res.cloudinary.com/practicaldev/image/fetch/s--UnAfrEG8--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/icohm5g0axh9wjmu4oc3.png\"\n,user:data.user,createdAt:data.createdAt,viewsCount:data.viewsCount,commentsCount:3,tags:data.tags,isFullPost:true,children:/*#__PURE__*/_jsx(ReactMarkdown,{children:data.text})}),/*#__PURE__*/_jsx(CommentsBlock,{items:[{user:{fullName:\"Вася Пупкин\",avatarUrl:\"https://mui.com/static/images/avatar/1.jpg\"},text:\"Это тестовый комментарий 555555\"},{user:{fullName:\"Иван Иванов\",avatarUrl:\"https://mui.com/static/images/avatar/2.jpg\"},text:\"When displaying three lines or more, the avatar is not aligned at the top. You should set the prop to align the avatar at the top\"}],isLoading:false,children:/*#__PURE__*/_jsx(Index,{})})]});};","map":{"version":3,"names":["React","useParams","Post","Index","CommentsBlock","axios","ReactMarkdown","FullPost","useState","data","setData","isLoading","setLoading","id","useEffect","get","then","res","catch","err","console","warn","alert","_id","title","imageUrl","process","env","REACT_APP_API_URL","user","createdAt","viewsCount","tags","text","fullName","avatarUrl"],"sources":["/Users/elamanzanibekov/Documents/GitHub/webapp-frontend/src/pages/FullPost.jsx"],"sourcesContent":["import React from \"react\";\nimport {useParams} from 'react-router-dom'\nimport { Post } from \"../components/Post\";\nimport { Index } from \"../components/AddComment\";\nimport { CommentsBlock } from \"../components/CommentsBlock\";\nimport axios from \"../axios\";\nimport { ReactMarkdown } from \"react-markdown/lib/react-markdown\";\n\nexport const FullPost = () => {\n  const [data, setData] = React.useState();\n  const [isLoading, setLoading] = React.useState(true);\n\n  const { id } = useParams();\n\n  React.useEffect(() =>{       /////Когда запрос выполнился сохраняем его в state//////\n    axios.get(`/posts/${id}`).then(res => {\n      setData(res.data);\n      setLoading(false);\n    }).catch(err => {\n      console.warn(err);\n      \n      alert('Ошибка при получении статьи');\n    });\n  }, [id]);\n\n  if(isLoading) {\n    return <Post isLoading={isLoading}  />\n  }\n\n  return (\n    <>\n      <Post\n         id={data._id}\n         title={data.title}\n         imageUrl={ data.imageUrl ? `${process.env.REACT_APP_API_URL}${data.imageUrl}` : ''}\n         // imageUrl=\"https://res.cloudinary.com/practicaldev/image/fetch/s--UnAfrEG8--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/icohm5g0axh9wjmu4oc3.png\"\n         user={data.user}\n         createdAt={data.createdAt}\n         viewsCount={data.viewsCount}\n         commentsCount={3}\n         tags={data.tags}\n         isFullPost >\n        <ReactMarkdown children={data.text} />\n      </Post>\n      <CommentsBlock\n        items={[\n          {\n            user: {\n              fullName: \"Вася Пупкин\",\n              avatarUrl: \"https://mui.com/static/images/avatar/1.jpg\",\n            },\n            text: \"Это тестовый комментарий 555555\",\n          },\n          {\n            user: {\n              fullName: \"Иван Иванов\",\n              avatarUrl: \"https://mui.com/static/images/avatar/2.jpg\",\n            },\n            text: \"When displaying three lines or more, the avatar is not aligned at the top. You should set the prop to align the avatar at the top\",\n          },\n        ]}\n        isLoading={false}\n      >\n        <Index />\n      </CommentsBlock>\n    </>\n  );\n};\n"],"mappings":"6IAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,OAASC,IAAT,KAAqB,oBAArB,CACA,OAASC,KAAT,KAAsB,0BAAtB,CACA,OAASC,aAAT,KAA8B,6BAA9B,CACA,MAAOC,MAAP,KAAkB,UAAlB,CACA,OAASC,aAAT,KAA8B,mCAA9B,C,6IAEA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAC5B,oBAAwBP,KAAK,CAACQ,QAAN,EAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAgCV,KAAK,CAACQ,QAAN,CAAe,IAAf,CAAhC,qDAAOG,SAAP,qBAAkBC,UAAlB,qBAEA,eAAeX,SAAS,EAAxB,CAAQY,EAAR,YAAQA,EAAR,CAEAb,KAAK,CAACc,SAAN,CAAgB,UAAK,CAAQ;AAC3BT,KAAK,CAACU,GAAN,kBAAoBF,EAApB,GAA0BG,IAA1B,CAA+B,SAAAC,GAAG,CAAI,CACpCP,OAAO,CAACO,GAAG,CAACR,IAAL,CAAP,CACAG,UAAU,CAAC,KAAD,CAAV,CACD,CAHD,EAGGM,KAHH,CAGS,SAAAC,GAAG,CAAI,CACdC,OAAO,CAACC,IAAR,CAAaF,GAAb,EAEAG,KAAK,CAAC,6BAAD,CAAL,CACD,CAPD,EAQD,CATD,CASG,CAACT,EAAD,CATH,EAWA,GAAGF,SAAH,CAAc,CACZ,mBAAO,KAAC,IAAD,EAAM,SAAS,CAAEA,SAAjB,EAAP,CACD,CAED,mBACE,wCACE,KAAC,IAAD,EACG,EAAE,CAAEF,IAAI,CAACc,GADZ,CAEG,KAAK,CAAEd,IAAI,CAACe,KAFf,CAGG,QAAQ,CAAGf,IAAI,CAACgB,QAAL,WAAmBC,OAAO,CAACC,GAAR,CAAYC,iBAA/B,SAAmDnB,IAAI,CAACgB,QAAxD,EAAqE,EAChF;AAJH,CAKG,IAAI,CAAEhB,IAAI,CAACoB,IALd,CAMG,SAAS,CAAEpB,IAAI,CAACqB,SANnB,CAOG,UAAU,CAAErB,IAAI,CAACsB,UAPpB,CAQG,aAAa,CAAE,CARlB,CASG,IAAI,CAAEtB,IAAI,CAACuB,IATd,CAUG,UAAU,KAVb,uBAWE,KAAC,aAAD,EAAe,QAAQ,CAAEvB,IAAI,CAACwB,IAA9B,EAXF,EADF,cAcE,KAAC,aAAD,EACE,KAAK,CAAE,CACL,CACEJ,IAAI,CAAE,CACJK,QAAQ,CAAE,aADN,CAEJC,SAAS,CAAE,4CAFP,CADR,CAKEF,IAAI,CAAE,iCALR,CADK,CAQL,CACEJ,IAAI,CAAE,CACJK,QAAQ,CAAE,aADN,CAEJC,SAAS,CAAE,4CAFP,CADR,CAKEF,IAAI,CAAE,mIALR,CARK,CADT,CAiBE,SAAS,CAAE,KAjBb,uBAmBE,KAAC,KAAD,IAnBF,EAdF,GADF,CAsCD,CA3DM"},"metadata":{},"sourceType":"module"}